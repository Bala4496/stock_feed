version: 0.2

phases:
  install:
    runtime-versions:
      java: corretto17

  pre_build:
    commands:
      - echo "Install Maven"
      - yum install -y maven
      - mvn --version

  build:
    commands:
      - echo "Compile and run tests"
      - mvn clean test

env:
  variables:
    DB_URL: "stock-feed-db.c2zo4gtpu4id.us-east-1.rds.amazonaws.com:5432/stock_feed_db"
    DB_USERNAME: "postgres"
    DB_PASSWORD: "postgres"