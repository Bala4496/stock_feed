version: 0.1

phases:
#  install:
#    runtime-versions:
#      java: corretto17
#    commands:
#      - echo "Install Maven"
#      - yum install -y maven
#      - mvn --version
#
#  pre_build:
#    commands:
#      - echo "Install Docker"
#      - apt-get update
#      - apt-get install -y docker.io
#      - systemctl docker start
#      - docker --version

  install:
    commands:
      - echo installing maven...
      - yum install -y maven

  pre_build:
    commands:
      - echo "Install Docker"
#      - yum install -y docker
      - docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com

  build:
    commands:
      - echo "Compile and run tests"
      - mvn clean test
